/**
 * 		index.js
 */

var indexDebugPrefix = "[index.js] : ";

$(document).on("pagebeforecreate", "#page_index" , function(event) {
//	if (deviceInfo != "Android") {
//		$("#panel_img_ktConsole").attr("src", "../img/menu_remote_d.png");
//	}
});

$(document).on("pageshow", "#page_index" , function(event) {
	// menuPanel 별도의 스크롤 생성
	var myPanelScroll = new iScroll('menuPanel', {bounce: false});
	//	menuPanel open 시 스크롤 이벤트 제어
	$("#menuPanel").panel({
		  beforeopen: function( event, ui ) {
			if (deviceInfo != "Android") {
				$("#panel_img_ktConsole").attr("src", "../img/menu_remote_d.png");
			}
		  }
	});
	$("#menuPanel").panel({
		open : function(event, ui) {
			myPanelScroll.refresh();
		}
	});
	// 스크롤 이벤트 발생 시 menuPanel 닫기
	$(window).on('scroll', function () {
		$("#menuPanel").panel("close");
	});
	
	//	OS별 이벤트 분기
	if(deviceInfo == "Android") {
		$("#index_btn_ktConsole").click(function() {
			callIntent('ktConsole');
		});
		$("#index_btn_qTest").click(function() {
			callIntent('qtest');
		});
	} else {
		$("#index_btn_ktConsole", "#index_btn_qTest").click(function() {
			showiOSAlert();
		});
	}
});